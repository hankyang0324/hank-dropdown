{"version":3,"file":"hank-dropdown.js.map","sources":["ng://hank-dropdown/lib/hank-dropdown.component.ts","ng://hank-dropdown/lib/filter.pipe.ts","ng://hank-dropdown/lib/hank-dropdown.module.ts"],"sourcesContent":["import { Component, Output, Input, forwardRef, OnInit, EventEmitter } from '@angular/core';\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\nimport { trigger, state, style, AUTO_STYLE, transition, animate } from '@angular/animations'\n\n@Component({\n  selector: 'hank-dropdown',\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => HankDropdownComponent),\n      multi: true\n    }\n  ],\n  templateUrl: './hank-dropdown.component.html',\n  styleUrls: ['./hank-dropdown.component.css'],\n  animations: [\n    trigger('divState',[\n      state('expanded',style({\n          height: AUTO_STYLE\n      })),\n      state('collapsed',style({\n          height: 0,\n          display: 'none'\n       })),\n       transition('collapsed => expanded',animate('150ms ease-out'))\n    ]),\n  ]\n})\n\nexport class HankDropdownComponent implements OnInit, ControlValueAccessor {\n  @Input('id')id = ''; //éè¿parent componetç»è¿ä¸ªdropdownå½å\n  @Input('options')options = [];\n  @Input('placeholder')placeholder = '';\n  @Input('disabled') disabled: boolean = false;\n  @Input('width') width: string;\n  @Input('max-height') maxHeight: string;\n  @Output() selected = new EventEmitter<{id:string,value:string}>(); //æidåä»dropdownä¸­éä¸­çå¼ä¼ ç»parent componentã\n  search:string='';\n  showDropdown:string = 'collapsed';\n  dropdownWidth:string;\n\n  ngOnInit() {\n    this.dropdownWidth = parseInt(this.width)+6+'px';\n    this.width+='px';\n    this.maxHeight+='px';\n  }\n\n  show() {\n    this.showDropdown = 'expanded';\n  }\n\n  hide() {\n    this.onTouched();\n    setTimeout(()=>this.showDropdown = 'collapsed', 150);\n  }\n\n  detectInput(event:Event) {\n    this.search = (<HTMLInputElement>event.target).value;\n    for(let option of this.options) {\n      let splited = option.split(' ');\n      for(let str of splited) {\n        if(str.indexOf(this.search)===0 || option.indexOf(this.search)===0) {\n          this.showDropdown = 'expanded';\n          return;\n        } \n      }\n    }\n    this.showDropdown = 'collapsed'; //éåå®datasï¼ä¸åæ¬è¾å¥ï¼ä¸æ¾ç¤ºdropdown\n  }\n\n  select(option:string) {\n    this.search = option; //æéä¸­çå¼éåè¾å¥æ¡\n    this.selected.emit({id:this.id,value:option}); //éä¸­çå¼ä¼ ç»parennt component\n    this.showDropdown = 'collapsed'; //å³é­dropdown\n    this.onChange(this.search); //ç»reactive formä¼ å¼\n  }\n\n  /* --------------  form control ---------------*/\n\n  onChange = (value) => {}\n\n  onTouched = () => {}\n\n  registerOnChange(fn) {\n    this.onChange = fn; \n  }\n\n  registerOnTouched(fn) {\n    this.onTouched = fn;\n  }\n\n  writeValue(value) {\n    this.search = value ? value : ''; //reactive form ç»searchè®¾åå¼\n  }\n\n  // setDisabledState(isDisabled: boolean){\n  //   this.disabled = isDisabled;\n  // }\n}\n\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'filter'\n})\nexport class FilterPipe implements PipeTransform {\n\n  transform(datas: string[], search:string) {\n    let arr=[...datas];\n    arr = arr.filter(data => {\n      let splited = data.split(' ');\n      for(let str of splited) {\n        if(str.indexOf(search)===0 || data.indexOf(search)===0) return true;\n      }\n      return false;\n    });\n    return arr;\n  }\n  \n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\n\nimport { HankDropdownComponent } from './hank-dropdown.component';\nimport { FilterPipe } from './filter.pipe';\n\n@NgModule({\n  declarations: [HankDropdownComponent, FilterPipe],\n  imports: [CommonModule,BrowserAnimationsModule,ReactiveFormsModule ],\n  exports: [HankDropdownComponent]\n})\nexport class HankDropdownModule { }\n"],"names":[],"mappings":";;;;;;;;;;AAAA,MA6Ba,qBAAqB;IAzBlC;QA0Bc,OAAE,GAAG,EAAE,CAAC;;QACH,YAAO,GAAG,EAAE,CAAC;QACT,gBAAW,GAAG,EAAE,CAAC;QACnB,aAAQ,GAAY,KAAK,CAAC;QAGnC,aAAQ,GAAG,IAAI,YAAY,EAA4B,CAAC;;QAClE,WAAM,GAAQ,EAAE,CAAC;QACjB,iBAAY,GAAU,WAAW,CAAC;;QAyClC,aAAQ;;;;QAAG,CAAC,KAAK,QAAO,EAAA;QAExB,cAAS;;;QAAG,SAAQ,EAAA;;;;KAiBrB;;;;IAzDC,QAAQ;QACN,IAAI,CAAC,aAAa,GAAG,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,GAAC,CAAC,GAAC,IAAI,CAAC;QACjD,IAAI,CAAC,KAAK,IAAE,IAAI,CAAC;QACjB,IAAI,CAAC,SAAS,IAAE,IAAI,CAAC;KACtB;;;;IAED,IAAI;QACF,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC;KAChC;;;;IAED,IAAI;QACF,IAAI,CAAC,SAAS,EAAE,CAAC;QACjB,UAAU;;;QAAC,MAAI,IAAI,CAAC,YAAY,GAAG,WAAW,GAAE,GAAG,CAAC,CAAC;KACtD;;;;;IAED,WAAW,CAAC,KAAW;QACrB,IAAI,CAAC,MAAM,GAAG,oBAAmB,KAAK,CAAC,MAAM,IAAE,KAAK,CAAC;QACrD,KAAI,IAAI,MAAM,IAAI,IAAI,CAAC,OAAO,EAAE;;gBAC1B,OAAO,GAAG,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC;YAC/B,KAAI,IAAI,GAAG,IAAI,OAAO,EAAE;gBACtB,IAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,KAAG,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,KAAG,CAAC,EAAE;oBAClE,IAAI,CAAC,YAAY,GAAG,UAAU,CAAC;oBAC/B,OAAO;iBACR;aACF;SACF;QACD,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;KACjC;;;;;IAED,MAAM,CAAC,MAAa;QAClB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;QACrB,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,EAAC,EAAE,EAAC,IAAI,CAAC,EAAE,EAAC,KAAK,EAAC,MAAM,EAAC,CAAC,CAAC;QAC9C,IAAI,CAAC,YAAY,GAAG,WAAW,CAAC;QAChC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;KAC5B;;;;;IAQD,gBAAgB,CAAC,EAAE;QACjB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;KACpB;;;;;IAED,iBAAiB,CAAC,EAAE;QAClB,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;KACrB;;;;;IAED,UAAU,CAAC,KAAK;QACd,IAAI,CAAC,MAAM,GAAG,KAAK,GAAG,KAAK,GAAG,EAAE,CAAC;KAClC;;;YAzFF,SAAS,SAAC;gBACT,QAAQ,EAAE,eAAe;gBACzB,SAAS,EAAE;oBACT;wBACE,OAAO,EAAE,iBAAiB;wBAC1B,WAAW,EAAE,UAAU;;;wBAAC,MAAM,qBAAqB,EAAC;wBACpD,KAAK,EAAE,IAAI;qBACZ;iBACF;gBACD,8vBAA6C;gBAE7C,UAAU,EAAE;oBACV,OAAO,CAAC,UAAU,EAAC;wBACjB,KAAK,CAAC,UAAU,EAAC,KAAK,CAAC;4BACnB,MAAM,EAAE,UAAU;yBACrB,CAAC,CAAC;wBACH,KAAK,CAAC,WAAW,EAAC,KAAK,CAAC;4BACpB,MAAM,EAAE,CAAC;4BACT,OAAO,EAAE,MAAM;yBACjB,CAAC,CAAC;wBACH,UAAU,CAAC,uBAAuB,EAAC,OAAO,CAAC,gBAAgB,CAAC,CAAC;qBAC/D,CAAC;iBACH;;aACF;;;iBAGE,KAAK,SAAC,IAAI;sBACV,KAAK,SAAC,SAAS;0BACf,KAAK,SAAC,aAAa;uBACnB,KAAK,SAAC,UAAU;oBAChB,KAAK,SAAC,OAAO;wBACb,KAAK,SAAC,YAAY;uBAClB,MAAM;;;;;;;ACpCT,MAKa,UAAU;;;;;;IAErB,SAAS,CAAC,KAAe,EAAE,MAAa;;YAClC,GAAG,GAAC,CAAC,GAAG,KAAK,CAAC;QAClB,GAAG,GAAG,GAAG,CAAC,MAAM;;;;QAAC,IAAI;;gBACf,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC;YAC7B,KAAI,IAAI,GAAG,IAAI,OAAO,EAAE;gBACtB,IAAG,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,KAAG,CAAC,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,KAAG,CAAC;oBAAE,OAAO,IAAI,CAAC;aACrE;YACD,OAAO,KAAK,CAAC;SACd,EAAC,CAAC;QACH,OAAO,GAAG,CAAC;KACZ;;;YAfF,IAAI,SAAC;gBACJ,IAAI,EAAE,QAAQ;aACf;;;;;;;ACJD,MAaa,kBAAkB;;;YAL9B,QAAQ,SAAC;gBACR,YAAY,EAAE,CAAC,qBAAqB,EAAE,UAAU,CAAC;gBACjD,OAAO,EAAE,CAAC,YAAY,EAAC,uBAAuB,EAAC,mBAAmB,CAAE;gBACpE,OAAO,EAAE,CAAC,qBAAqB,CAAC;aACjC;;;;;;;;;;;;;;;"}
